{% include 'base.html' %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<h3 class="display-6 mb-3 fw-semibold lh-sm text-md-center">THÊM SỰ KIỆN</h3>
<form class="container h-100 " method="POST" action="">
    {% csrf_token %}
    <div class="container h-100 col-sm-6">
    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Tên sự kiện</label>
        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="" name="name">
      </div>
    <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label">Mô tả</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="description"></textarea>
    </div>
    <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label">Chọn ngày</label>
        <input type="text" class="form-control" placeholder="" id="datepicker" name="date">
    </div> 
    </div>
    <hr class="hr" />
    <div class="d-flex justify-content-between">
        <h3 class="display-7 mb-3 fw-semibold lh-sm ">Thêm thành viên</h3>
        <button type="button" class="btn btn-info rounded-5" id="check-all-btn" name="{{staff.id}}">Chọn tất cả</button>
    </div>
    <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Class Room</th>
            <th scope="col">Selection</th>
          </tr>
        </thead>
        <tbody>
          {% for staff in staffs %}
          <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>{{staff.name}}</td>
            <td>{{staff.classroom}}</td>
            <td><input class="form-check-input checkbox-item" type="checkbox" value="{{staff.id}}" id="flexCheckChecked" name="checkbox"></td>
          </tr>
          {% endfor %}
        </tbody>
    </table>
    <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
        <button type="submit" class="btn btn-primary btn-lg">Đăng ký</button>
    </div>
</form>
<script>
    $(function(){
      $('#datepicker').datepicker();
    });
</script>
<script>
    var checkAllBtn = document.getElementById('check-all-btn');
    var checkboxes = document.getElementsByClassName('checkbox-item');
    checkAllBtn.addEventListener('click', function() {
        var checked = checkAllBtn.innerText === 'Chọn tất cả';
        for (var i = 0; i < checkboxes.length; i++) {
            checkboxes[i].checked = checked;}
        checkAllBtn.innerText = checked ? 'Bỏ chọn tất cả' : 'Chọn tất cả';
    });
</script>
{% endblock content %}